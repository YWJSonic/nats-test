(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{313:function(t,e,n){"use strict";(function(t){n.d(e,"g",(function(){return r})),n.d(e,"e",(function(){return o})),n.d(e,"m",(function(){return c})),n.d(e,"f",(function(){return l})),n.d(e,"l",(function(){return d})),n.d(e,"a",(function(){return f})),n.d(e,"k",(function(){return h})),n.d(e,"n",(function(){return k})),n.d(e,"p",(function(){return v})),n.d(e,"o",(function(){return m})),n.d(e,"b",(function(){return y})),n.d(e,"d",(function(){return w})),n.d(e,"i",(function(){return S})),n.d(e,"h",(function(){return L})),n.d(e,"c",(function(){return C})),n.d(e,"j",(function(){return O}));t.env.CI;var r="https://api.like.co",o="button.like.co",c="like.co",l="https://mainnet-node.like.co/iscn/records/id?iscn_id=",d="https://liker.land",f="https://app.like.co",h=("https://".concat(c,"/api"),"https://".concat(c,"/api/oembed")),k=/^(?:https?:\/\/)?[^/]*\/media\/[a-zA-Z0-9_]+(?:\?postId=([a-zA-Z0-9_]+))?/,v=["fbclid","gclid","gi","utm_source","utm_medium","utm_campaign","utm_term","utm_content","ldtag_cl","_trms","comment_id","reply_comment_id","pixfrom","spm","clickId","avivid_manual","AviviD_main_uuid","mibextid"],m=["source","postPublishedType"],y="https://matters.news/@likecoin/%E8%AE%9A%E8%B3%9E%E5%85%AC%E6%B0%91-web3-%E6%94%B9%E7%89%88%E8%BF%8E%E8%99%8E%E5%B9%B4-bafyreigrx6dnzmbnfea3btnbzno272bsfadnhwpztuaaf4z5cyxflarx5y",w="https://depub.space/",S="https://mainnet-node.like.co/rpc/",L="https://mainnet-node.like.co",C="https://static.like.co/likecoin_de-portrait.jpg",O="like17m4vwrnhjmd20uu7tst7nv0kap6ee7js69jfrs"}).call(this,n(89))},321:function(t,e,n){"use strict";n.r(e);var r={name:"identity",components:{Avatar:n(350).default},props:{avatarURL:{type:String,default:""},isAvatarButtonDisabled:{type:Boolean,default:!1},isAvatarButtonOutlined:{type:Boolean,default:!1},displayName:{type:String,default:""}},computed:{width:function(){return this.displayNameX+this.displayNameWidth},height:function(){return 74},avatarX:function(){return 4},avatarY:function(){return 13},displayNameWidth:function(){return 160},displayNameHeight:function(){return this.height},displayNameX:function(){return 60},displayNameY:function(){return 0},displayNameStyle:function(){return{display:"flex",alignItems:"center",color:"#28646E",fontFamily:"Source Sans Pro, Arial, sans-serif",fontSize:"18px",fontWeight:"500",height:"100%"}}},methods:{onClickAvatar:function(t){this.$emit("click-avatar",t)},onClickDisplayName:function(t){this.$emit("click-display-name",t)}}},o=n(22),component=Object(o.a)(r,(function(){var t=this,e=t._self._c;return e("svg",{attrs:{viewBox:"0 0 ".concat(t.width," ").concat(t.height),width:t.width,height:t.height,xmlns:"http://www.w3.org/2000/svg"}},[e("Avatar",{attrs:{x:t.avatarX,y:t.avatarY,url:t.avatarURL,"is-outlined":t.isAvatarButtonOutlined,"is-disabled":t.isAvatarButtonDisabled},on:{click:t.onClickAvatar}}),t._v(" "),e("foreignObject",{attrs:{x:t.displayNameX,y:t.displayNameY,width:t.displayNameWidth,height:t.displayNameHeight}},[e("div",{style:t.displayNameStyle,on:{click:t.onClickDisplayName}},[t._v(t._s(t.displayName))])])],1)}),[],!1,null,null,null);e.default=component.exports},322:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return c}));n(11),n(55),n(56),n(313);var r=function(t){return/^iscn:\/\/([-_.:=+,a-zA-Z0-9]+)\/([-_.:=+,a-zA-Z0-9]+)(?:\/([0-9]+))?\/?$/.test(t)},o=function(t){return/^likenft1[ac-hj-np-z02-9]+$/.test(t)};function c(image){return image.replace("ar://","https://arweave.net/").replace("ipfs://","https://ipfs.io/ipfs/")}},345:function(t,e,n){"use strict";n.d(e,"b",(function(){return d})),n.d(e,"a",(function(){return h}));var r=n(11),o=n(344);n(55),n(414),n(47),n(35),n(112),n(415);function c(t){var e=new Uint8Array(t);return Object(o.a)(e).map((function(t){return t.toString(16).padStart(2,"0")})).join("")}function l(t){var data=(new TextEncoder).encode(t);return window.crypto.subtle.digest("SHA-256",data)}function d(t,e){return f.apply(this,arguments)}function f(){return(f=Object(r.a)(regeneratorRuntime.mark((function t(e,n){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n.user,!window.doNotTrack&&!navigator.doNotTrack){t.next=3;break}return t.abrupt("return");case 3:if(t.prev=3,!e.$gtag){t.next=10;break}return t.next=7,l(r);case 7:o=c(o=t.sent),e.$gtag.set({userId:o});case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(3),console.error(t.t0);case 15:case"end":return t.stop()}}),t,null,[[3,12]])})))).apply(this,arguments)}function h(t,e,n,label,r){try{if(window.doNotTrack||navigator.doNotTrack)return;t.$gtag&&t.$gtag.event(n,{event_category:e,event_label:label.substring(0,499),value:r})}catch(t){console.error("logging error:"),console.error(t)}}},347:function(t,e,n){"use strict";n.d(e,"m",(function(){return l})),n.d(e,"l",(function(){return d})),n.d(e,"c",(function(){return f})),n.d(e,"d",(function(){return h})),n.d(e,"j",(function(){return k})),n.d(e,"k",(function(){return v})),n.d(e,"e",(function(){return m})),n.d(e,"b",(function(){return y})),n.d(e,"n",(function(){return w})),n.d(e,"o",(function(){return S})),n.d(e,"i",(function(){return L})),n.d(e,"a",(function(){return C})),n.d(e,"f",(function(){return O})),n.d(e,"h",(function(){return _})),n.d(e,"g",(function(){return x})),n.d(e,"q",(function(){return j})),n.d(e,"r",(function(){return I})),n.d(e,"p",(function(){return R}));n(35),n(112);var r=n(154).create({timeout:3e4}),o=n(313);function c(t){var e=t.documentReferrer,n=void 0===e?"":e,r=t.sessionID,o=void 0===r?"":r,c=t.type,l=void 0===c?"":c,d=t.integration;return{"Document-Referrer":n,"X-Likecoin-Button-Type":l,"X-Likecoin-Session-ID":o,"X-Likecoin-Button-Integration":void 0===d?"":d}}var l=function(t){return r.get("".concat(o.g,"/users/id/").concat(t,"/min"))},d=function(t,e){return r.get("".concat(o.g,"/like/iscn/mapping?liker_id=").concat(encodeURIComponent(t),"&url=").concat(encodeURIComponent(e)))},f=function(t,data){var e=data.referrer,n=void 0===e?"":e,l=data.isCookieSupport,d=data.iscnId,f=void 0===d?"":d,h=void 0!==l?"&cookie_support=".concat(l?1:0):"";return r.get("iscn"===t?"".concat(o.g,"/like/likebutton/iscn/self?iscn_id=").concat(encodeURIComponent(f)).concat(h,"&show_count=0"):"".concat(o.g,"/like/likebutton/").concat(t,"/self?referrer=").concat(encodeURIComponent(n)).concat(h,"&show_count=0"),{headers:c(data),withCredentials:!0})},h=function(t,data){var e=data.referrer,n=data.iscnId;return r.get("iscn"===t?"".concat(o.g,"/like/likebutton/iscn/self/like?iscn_id=").concat(encodeURIComponent(n)):"".concat(o.g,"/like/likebutton/").concat(t,"/self/like?referrer=").concat(encodeURIComponent(e)),{withCredentials:!0})},k=function(t){return r.get("".concat(o.g,"/like/share/").concat(t))},v=function(t,data){var e=data.referrer,n=data.iscnId;return r.get(n?"".concat(o.g,"/like/share/iscn/self?tz=").concat(t,"&iscn_id=").concat(encodeURIComponent(n)):"".concat(o.g,"/like/share/self?tz=").concat(t,"&referrer=").concat(encodeURIComponent(e)),{withCredentials:!0})},m=function(t,data){var e=data.referrer,n=data.iscnId;return r.get("iscn"===t?"".concat(o.g,"/like/likebutton/iscn/total?iscn_id=").concat(encodeURIComponent(n)):"".concat(o.g,"/like/likebutton/").concat(t,"/total?referrer=").concat(encodeURIComponent(e)))},y=function(t,data){var e=data.referrer,n=data.iscnId;return r.get("iscn"===t?"".concat(o.g,"/like/likebutton/iscn/list?iscn_id=").concat(encodeURIComponent(n)):"".concat(o.g,"/like/likebutton/").concat(t,"/list?referrer=").concat(encodeURIComponent(e)))},w=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,data=arguments.length>2?arguments[2]:void 0,n=data.referrer,l=void 0===n?"":n,d=data.iscnId,f=data.isCookieSupport,h=void 0!==f?"&cookie_support=".concat(f?1:0):"";return r.post("iscn"===t?"".concat(o.g,"/like/likebutton/iscn/").concat(e,"?iscn_id=").concat(encodeURIComponent(d)).concat(h):"".concat(o.g,"/like/likebutton/").concat(t,"/").concat(e,"?referrer=").concat(encodeURIComponent(l)).concat(h),{},{headers:c(data),withCredentials:!0})},S=function(t,data){var e=data.referrer,n=void 0===e?"":e,l=data.tz,d=data.iscnId;return r.post("iscn"===t?"".concat(o.g,"/like/share/iscn/?iscn_id=").concat(encodeURIComponent(d)):"".concat(o.g,"/like/share/").concat(t),{referrer:n,tz:l,iscnId:d},{headers:c(data),withCredentials:!0})},L=function(t){return r.get("".concat(o.g,"/like/like/suggest/info/?url=").concat(encodeURIComponent(t))).then((function(t){return(t.data||{}).title||""})).catch((function(){return""}))},C=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return r.get("".concat(o.f).concat(encodeURIComponent(t)))},O=function(){var address=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return r.get("".concat(o.g,"/users/addr/").concat(address,"/min"))},_=function(t){var e=t.iscnId,n=void 0===e?"":e,c=t.classId,l=void 0===c?"":c,d=t.nftId,f=new URLSearchParams({iscn_id:n,class_id:l,nft_id:void 0===d?"":d});return r.get("".concat(o.g,"/likernft/mint?").concat(f.toString()))},x=function(t){var e=t.iscnId,n=void 0===e?"":e,c=t.classId,l=void 0===c?"":c,d=t.nftId,f=new URLSearchParams({iscn_id:n,class_id:l,nft_id:void 0===d?"":d});return r.get("".concat(o.g,"/likernft/metadata?").concat(f.toString()))},j=function(t){var e=t.referrer,n=void 0===e?"":e,r=t.iscnId,c=void 0===r?"":r,l=t.user,d=void 0===l?"":l;if(c)return"".concat(o.a,"/nft/iscn/").concat(encodeURIComponent(c));var f=new URLSearchParams({url:n,liker_id:d});return"".concat(o.a,"/nft/url?").concat(f.toString())},I=function(t){var e=t.classId,n=void 0===e?"":e,c=t.excludeISCNOwner,l=void 0===c||c,d=t.ignoreList,f=void 0===d?o.j:d,h=new URLSearchParams({class_id:n,exclude_iscn_owner:l,ignore_list:f});return r.get("".concat(o.h,"/likechain/likenft/v1/owner?").concat(h.toString()))},R=function(t){return r.get("".concat(o.h,"/likechain/likenft/v1/listings/").concat(t))}},350:function(t,e,n){"use strict";n.r(e);n(52),n(46),n(51),n(74),n(75);var r=n(34);function o(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function c(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?o(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):o(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var l={name:"identity-avatar",mixins:[n(338).a],props:{url:{type:String,default:""},isOutlined:{type:Boolean,default:!1},isDisabled:{type:Boolean,default:!1}},computed:{padding:function(){return 2},width:function(){return 2*(this.avatarRimRadius+this.padding)},height:function(){return this.width},avatarCenterX:function(){return this.width/2},avatarCenterY:function(){return this.height/2},avatarRadius:function(){return 19},avatarRimStrokeWidth:function(){return 1.8},avatarRimRadius:function(){return this.avatarRadius+3},avatarRimStyle:function(){return{fill:"none",strokeWidth:"".concat(this.avatarRimStrokeWidth,"px")}},avatarInnerRimStyle:function(){return c(c({},this.avatarRimStyle),{},{stroke:"#e6e6e6"})},avatarOuterRimStyle:function(){var style=c(c({},this.avatarRimStyle),{},{stroke:"#50e3c2",transition:"stroke-width 0.2s ease"});return this.isHovering&&(style.strokeWidth="".concat(1.5*this.avatarRimStrokeWidth,"px")),style},buttonSize:function(){return this.width-this.padding/2}}},d=n(22),component=Object(d.a)(l,(function(){var t=this,e=t._self._c;return e("svg",{attrs:{viewBox:"0 0 ".concat(t.width," ").concat(t.height),width:t.width,height:t.height,xmlns:"http://www.w3.org/2000/svg"}},[e("defs",[e("clipPath",{attrs:{id:"avatar-mask"}},[e("circle",{attrs:{cx:t.avatarCenterX,cy:t.avatarCenterY,r:t.avatarRadius}})])]),t._v(" "),e("g",{style:t.buttonPressedStyle},[e("g",{style:{clipPath:"url(#avatar-mask)"}},[e("image",{attrs:{href:t.url,x:t.avatarCenterX-t.avatarRadius,y:t.avatarCenterY-t.avatarRadius,width:2*t.avatarRadius,height:2*t.avatarRadius}})]),t._v(" "),e("circle",{style:t.avatarInnerRimStyle,attrs:{cx:t.avatarCenterX,cy:t.avatarCenterY,r:t.avatarRadius}}),t._v(" "),t.isOutlined?e("circle",{style:t.avatarOuterRimStyle,attrs:{cx:t.avatarCenterX,cy:t.avatarCenterY,r:t.avatarRimRadius}}):t._e(),t._v(" "),e("foreignObject",{attrs:{x:t.padding,y:t.padding,width:t.buttonSize,height:t.buttonSize}},[e("button",t._g({style:t.buttonBaseStyle,attrs:{disabled:t.isDisabled}},t.buttonListeners))])])])}),[],!1,null,null,null);e.default=component.exports},356:function(t,e,n){var content=n(397);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(54).default)("0094e43c",content,!0,{sourceMap:!1})},357:function(t,e,n){var content=n(399);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(54).default)("d0c418f6",content,!0,{sourceMap:!1})},376:function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return l}));n(114),n(117),n(212),n(116),n(35),n(112);var r=n(313),o=n(375),c=function(t){var e=t.match(/^(?:http(?:s)?:\/\/)?([a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)+)(?::\d+)?/);if(!e||!e[1])return!1;var n=e[1].split(".");return!(4===n.length&&n.every((function(t){try{if(!t.match(/^\d{1,3}$/))return!1;var e=Number(t);return e>=0&&e<=255}catch(t){return!1}})))},l=function(t){try{var e=new o(t,!0);return"medium.com"===e.hostname&&r.o.forEach((function(t){delete e.query[t]})),r.p.forEach((function(t){delete e.query[t]})),e.set("query",e.query),e.hash.startsWith("#/")||(e.hash=""),e.toString()}catch(t){return""}}},386:function(t,e,n){"use strict";n.r(e),n.d(e,"LAYOUT_DEFAULT",(function(){return h})),n.d(e,"LAYOUT_STICKY_BOTTOM",(function(){return k})),n.d(e,"LAYOUTS",(function(){return v}));var r=n(34),o=(n(58),n(212),n(52),n(46),n(51),n(74),n(75),n(321)),c=n(372),l=n(313);function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function f(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var h="default",k="sticky-bottom",v=[h,k],m={name:"likecoin-button-widget",components:{Identity:o.default,LikeButton:c.default},props:{layout:{type:String,validator:function(t){return v.includes(t)},default:h},likeButtonLabel:{type:String,default:""},ctaButtonLabel:{type:String,default:""},ctaButtonPreset:{type:String,default:"default"},ctaHref:{type:String,default:""},avatarURL:{type:String,default:""},displayName:{type:String,default:""},hintLabel:{type:String,default:void 0},upgradeHref:{type:String,default:""},isShowLikeButton:{type:Boolean,default:!0},shouldShowCta:{type:Boolean,default:!1},width:{type:Number,default:360}},computed:{isStickyBottomLayout:function(){return this.layout===k},isShowHintLabel:function(){return void 0!==this.hintLabel},rootStyle:function(){var style={};return this.isStickyBottomLayout&&(style.background="#fff",style.marginTop="28px",style.height="100px"),style},hrStyle:function(){return{border:"none",height:"3px",margin:0,padding:0,backgroundImage:"linear-gradient(90deg,#d2f0f0,#f0e6b4)"}},svgStyle:function(){var style={display:"inline-block",width:"100%",userSelect:"none"};return this.isStickyBottomLayout?(style.marginTop="-52px",style.marginLeft="-10px",style.maxWidth="280px"):style.maxWidth="".concat(this.width,"px"),style},identitySlotProps:function(){return{x:140,y:57}},saveSlotProps:function(){return{x:148,y:130}},upgradeLabelX:function(){return 108},upgradeLabelY:function(){return 115},labelY:function(){return 140},textStyle:function(){return{color:"#9B9B9B",fontFamily:"Source Sans Pro, Arial, sans-serif",fontSize:"14px"}},labelStyle:function(){return f(f({},this.textStyle),{},{textAlign:"center",width:"100%",margin:"auto",marginTop:"3px"})},labelButtonStyle:function(){return{padding:"0 2px",border:"none",borderRadius:"4px",outline:"none",color:"inherit",fontFamily:"inherit",fontSize:"inherit",transition:"background-color 0.2s ease"}},hintLabelStyle:function(){return f(f({},this.textStyle),{},{width:"100%",height:"100%",display:"flex",textAlign:"left",alignItems:"flex-end"})},upgradeLabelStyle:function(){return f(f({},this.textStyle),{},{fontSize:"8px"})},ctaButtonClass:function(){return["likecoin-button-widget__cta-button","likecoin-button-widget__cta-button--".concat(this.ctaButtonPreset)]},depupSpaceUrl:function(){return l.d}}},y=n(22),component=Object(y.a)(m,(function(){var t=this,e=t._self._c;return e("div",{style:t.rootStyle},[t.isStickyBottomLayout?e("hr",{style:t.hrStyle}):t._e(),t._v(" "),e("svg",{style:t.svgStyle,attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(t.width," 180")}},[t._t("identity",(function(){return[e("Identity",t._b({},"Identity",t.identitySlotProps,!1))]}),null,t.identitySlotProps),t._v(" "),t.isShowLikeButton?t._t("like-button",(function(){return[e("LikeButton")]})):t._e(),t._v(" "),t.isShowLikeButton?e("foreignObject",{attrs:{y:t.labelY,x:"28",width:"100",height:"36"}},[e("div",{style:t.labelStyle},[e("button",{staticClass:"likecoin-button-widget__label-button",style:t.labelButtonStyle,on:{click:function(e){return t.$emit("click-like-button-label")}}},[t._v(t._s(t.likeButtonLabel))])])]):t._e(),t._v(" "),t.isShowHintLabel?e("foreignObject",{attrs:{x:t.saveSlotProps.x,y:"0",width:"212",height:"60"}},[e("div",{style:t.hintLabelStyle},[t._v(t._s(t.hintLabel))])]):t._e(),t._v(" "),t.upgradeHref?e("foreignObject",{attrs:{x:t.upgradeLabelX,y:t.upgradeLabelY,width:"120",height:"30"}},[e("a",{style:t.upgradeLabelStyle,attrs:{href:t.upgradeHref,target:"_blank",rel:"noreferrer noopener"}},[t._v("\n        "+t._s(this.$t("HintLabel.Upgrade"))+"\n      ")])]):t._e(),t._v(" "),t.shouldShowCta?e("foreignObject",{attrs:{x:t.saveSlotProps.x,y:t.saveSlotProps.y,width:"212",height:"36"}},[e("a",{class:t.ctaButtonClass,attrs:{href:t.ctaHref||t.depupSpaceUrl,target:"_blank",rel:"noreferrer noopener"},on:{click:function(e){return t.$emit("click-cta-button")}}},[t.ctaHref?e("div",[t._v(t._s(t.ctaButtonLabel))]):e("lc-loading-indicator",{style:t.labelStyle})],1)]):t._e()],2)])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Identity:n(321).default,LikeButton:n(384).default})},396:function(t,e,n){"use strict";n(356)},397:function(t,e,n){var r=n(53)((function(i){return i[1]}));r.push([t.i,".embed-create-widget-button{margin-top:.01649rem;text-align:right;color:#9b9b9b;font-size:.02062rem;line-height:.02165rem}@media screen and (max-width:414px){.embed-create-widget-button{font-size:.02474rem;line-height:.0268rem}}.embed-create-widget-button a{display:inline-block;text-decoration:underline;color:inherit;font-size:inherit;line-height:inherit}",""]),r.locals={},t.exports=r},398:function(t,e,n){"use strict";n(357)},399:function(t,e,n){var r=n(53)((function(i){return i[1]}));r.push([t.i,".embed-user-info{position:relative;flex-shrink:0;width:.2268rem;height:.2268rem;margin:-.02474rem .01649rem}.embed-user-info--with-halo{margin-right:.03711rem;margin-left:.02887rem}.embed-user-info__avatar{position:relative;width:.2268rem;height:.2268rem}.embed-user-info__avatar .lc-avatar__content__halo{position:absolute;font-size:0}.embed-user-info__display-name{position:absolute;top:100%;display:flex;justify-content:center;min-width:100%;margin-top:.00825rem;letter-spacing:0;font-size:.03711rem;font-weight:600;line-height:.03814rem}.embed-user-info__display-name a{display:inline-block;white-space:nowrap;color:#28646e;font-size:inherit;font-weight:inherit;line-height:inherit}",""]),r.locals={},t.exports=r},402:function(t,e,n){"use strict";function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.isCivicLikerTrial||t.isSubscribedCivicLiker?"civic-liker":"none"}n.d(e,"a",(function(){return r}))},413:function(t,e,n){"use strict";n.r(e);n(52),n(46),n(51),n(74),n(75);var r=n(34),o=n(304);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}var l={name:"bookmark-button",mixins:[n(338).a],props:{toggled:{type:Boolean,default:!1}},computed:{size:function(){return 44},radius:function(){return this.size/2},buttonKey:function(){return this.isPressing?"pressed":"normal"},iconFill:function(){return"#28646e"},iconPath:function(){return"M26.9,12.7H16.6c-1.5,0-2.6,1.2-2.6,2.6v17.4l7.8-5.1l7.8,5.1V15.4C29.6,13.9,28.4,12.7,26.9,12.7z"},svgStyle:function(){return function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({clipPath:"url(#save-button-mask)"},this.buttonPressedStyle)}},methods:{hoverRimBeforeEnter:function(t){o.a.set(t,{opacity:0})},hoverRimEnter:function(t,e){o.a.fromTo(t,.25,{scale:1.1,transformOrigin:"50% 50%"},{opacity:1,scale:1,onComplete:e})},hoverRimLeave:function(t,e){o.a.to(t,.2,{scale:1.1,opacity:0,transformOrigin:"50% 50%",onComplete:e})},iconFillBeforeEnter:function(t){o.a.set(t,{scaleY:0})},iconFillEnter:function(t,e){o.a.to(t,.25,{scaleY:1,onComplete:e})},iconFillLeave:function(t,e){o.a.to(t,.2,{scaleY:0,onComplete:e})}}},d=l,f=n(22),component=Object(f.a)(d,(function(){var t=this,e=t._self._c;return e("svg",{attrs:{viewBox:"0 0 ".concat(t.size," ").concat(t.size),width:t.size,height:t.size,xmlns:"http://www.w3.org/2000/svg"}},[e("defs",[e("clipPath",{attrs:{id:"save-icon-mask"}},[e("path",{attrs:{d:t.iconPath}})]),t._v(" "),e("clipPath",{attrs:{id:"save-button-mask"}},[e("circle",{attrs:{cx:t.radius,cy:t.radius,r:t.radius}})])]),t._v(" "),e("g",{style:t.svgStyle},[e("circle",{attrs:{cx:t.radius,cy:t.radius,r:t.radius,fill:"#aaf1e7"}}),t._v(" "),t.isHovering?e("transition",{attrs:{css:!1},on:{"before-appear":t.hoverRimBeforeEnter,appear:t.hoverRimEnter,"before-enter":t.hoverRimBeforeEnter,enter:t.hoverRimEnter,leave:t.hoverRimLeave}},[e("circle",{attrs:{cx:t.radius,cy:t.radius,r:t.radius,stroke:"#50e3c2","stroke-width":"4",fill:"none"}})]):t._e(),t._v(" "),e("g",{staticStyle:{"clip-path":"url(#save-icon-mask)"}},[t.toggled?e("transition",{attrs:{css:!1},on:{"before-appear":t.iconFillBeforeEnter,appear:t.iconFillEnter,"before-enter":t.iconFillBeforeEnter,enter:t.iconFillEnter,leave:t.iconFillLeave}},[e("rect",{attrs:{fill:t.iconFill,x:"14",y:"12",width:"16",height:"22"}})]):t._e(),t._v(" "),e("path",{attrs:{d:t.iconPath,stroke:t.iconFill,"stroke-width":"4",fill:"none"}})],1),t._v(" "),e("foreignObject",{attrs:{width:t.size,height:t.size}},[e("button",t._g({style:t.buttonBaseStyle},t.buttonListeners))])],1)])}),[],!1,null,null,null);e.default=component.exports},434:function(t,e,n){"use strict";n.r(e);n(355);var r=n(345),o={name:"embed-create-widget-button",props:{link:{type:String,default:"https://like.co"},isButton:{type:[Boolean,String],default:!1}},methods:{onClickCreate:function(){Object(r.a)(this,"LikeButtonFlow","clickCreate","clickCreate",1)}}},c=(n(396),n(22)),component=Object(c.a)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"embed-create-widget-button"},[e("a",{attrs:{href:t.link,target:"_blank",rel:"noopener"},on:{click:t.onClickCreate}},[t._v("\n    "+t._s(t.$t("Embed.label.createMy".concat(t.isButton?"Button":"Widget")))+"\n  ")])])}),[],!1,null,null,null);e.default=component.exports},435:function(t,e,n){"use strict";n.r(e);n(355);var r={name:"embed-user-info",props:{avatar:{type:String,default:null},avatarHalo:{type:String,default:"none"},displayName:{type:String,default:""},link:{type:String,default:null}},computed:{rootClass:function(){return["embed-user-info",{"embed-user-info--with-halo":"none"!==this.avatarHalo}]},isAvatarClickable:function(){return!!this.$listeners["click-avatar"]},isAvatarHaloClickable:function(){return!!this.$listeners["click-avatar-halo"]}},methods:{onClickAvatar:function(){this.$emit("click-avatar")},onClickAvatarHalo:function(){this.$emit("click-avatar-halo")}}},o=(n(398),n(22)),component=Object(o.a)(r,(function(){var t=this,e=t._self._c;return e("div",t._b({class:t.rootClass},"div",t.$attrs,!1),[e("div",{staticClass:"embed-user-info__avatar"},[e("lc-avatar",{attrs:{src:t.avatar,halo:t.avatarHalo,"is-clickable":t.isAvatarClickable,"is-halo-clickable":t.isAvatarHaloClickable,size:"large","is-full-width":""},on:{click:t.onClickAvatar,"click-halo":t.onClickAvatarHalo}})],1),t._v(" "),t.displayName?e("div",{staticClass:"embed-user-info__display-name"},[e("div",[e("nuxt-link",{attrs:{to:t.link,target:"_blank"}},[t._v("\n        "+t._s(t.displayName)+"\n      ")])],1)]):t._e()])}),[],!1,null,null,null);e.default=component.exports},492:function(t,e,n){"use strict";n(52),n(46),n(51),n(74),n(75);var r=n(29),o=n(351),c=n(11),l=n(34),d=(n(55),n(215),n(212),n(114),n(76),n(35),n(67),n(60),n(112),n(634)),f=n(313),h=n(434),k=n(435),v=n(345),m=n(347),y=n(153),w=n(322),S=n(376);n(56),n(497);var L=["type","iscn_id","class_id"];function C(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function O(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?C(Object(source),!0).forEach((function(e){Object(l.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):C(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var _="LIKER_LIST_STATS_WINDOW",x=n(377),j=n(498),I=x((function(t){var e=t.likeCount-t.likeSent;t.likeSent+=e,e>0&&Object(m.n)(t.likeTarget.id,e,O({referrer:t.likeTarget.referrer,iscnId:t.likeTarget.iscnId,isCookieSupport:t.hasCookieSupport},t.apiMetadata)),t.totalLike+=e}),500);e.a={components:{EmbedCreateWidgetButton:h.default,EmbedUserInfo:k.default},head:function(){return{title:this.$t("LikeButton.head.title",{name:this.id}),meta:[{hid:"og:title",property:"og:title",content:this.$t("LikeButton.head.title",{name:this.id})},{hid:"description",name:"description",content:this.$t("LikeButton.head.description")},{hid:"og:description",property:"og:description",content:this.$t("LikeButton.head.description")}],link:[{rel:"alternate",type:"application/json+oembed",href:"".concat(f.k,"?url=").concat(this.encodedExternalURL,"&format=json"),title:this.$t("LikeButton.head.title",{name:this.id})},{rel:"alternate",type:"application/xml+oembed",href:"".concat(f.k,"?url=").concat(this.encodedExternalURL,"&format=xml"),title:this.$t("LikeButton.head.title",{name:this.id})}]}},asyncData:function(t){return Object(c.a)(regeneratorRuntime.mark((function e(){var n,c,l,d,h,k,v,y,S,C,_,x,j,I,R,P,B,U,A,T,E,N,$,D,z,F,W,H,M,Y,data,X,J,V,Q,Z,K;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.params,c=t.error,l=t.query,d=t.redirect;try{(k=parseInt(n.amount,10))&&!Number.isNaN(k)&&(h=k)}catch(t){}if(v=n.id,y=l.type,S=void 0===y?"":y,C=l.iscn_id,_=l.class_id,x=Object(o.a)(l,L),j=l.referrer,I=void 0===j?"":j,R=C,P=_,!S&&I&&I.match(f.n)&&"medium",!P&&Object(w.b)(v)&&(P=v),!P){e.next=11;break}return d({name:"in-embed-nft",query:O(O({},x),{},{class_id:P})}),e.abrupt("return",void 0);case 11:if(!Object(w.a)(v)){e.next=15;break}R=v,e.next=29;break;case 15:if("iscn"===v){e.next=29;break}return e.next=18,Object(m.l)(v,I).catch((function(t){t.response&&404===t.response.status||console.error(JSON.stringify({message:t,stack:t.stack}))}));case 18:if((B=e.sent)&&B.data&&(U=B.data,A=U.iscnPrefix,T=U.iscnVersion,R="".concat(A,"/").concat(T)),R){e.next=29;break}return e.next=23,Object(m.m)(v).catch((function(t){return t.response&&404===t.response.status||console.error(JSON.stringify({message:t,stack:t.stack})),c({statusCode:404,message:""}),{}}));case 23:if(E=e.sent,N=E.data){e.next=27;break}return e.abrupt("return",{});case 27:return $=N.displayName,D=N.avatar,z=N.isPreRegCivicLiker,F=N.isCivicLikerTrial,W=N.isSubscribedCivicLiker,H=N.civicLikerSince,e.abrupt("return",{id:v,displayName:$||v,avatar:D,isPreRegCivicLiker:z,isCivicLikerTrial:F,isSubscribedCivicLiker:W,civicLikerSince:H,amount:h});case 29:return e.next=31,Promise.all([Object(m.a)(R).catch((function(t){t.response&&404===t.response.status||console.error(JSON.stringify({message:t,stack:t.stack})),c({statusCode:404,message:"ISCN_NOT_FOUND"})})),Object(m.h)({iscnId:R}).then((function(t){return!(!t.data||"like"===l.action)&&(d({name:"in-embed-nft",query:O(O({},x),{},{iscn_id:R})}),!0)})).catch((function(){return!1}))]);case 31:if(M=e.sent,Y=Object(r.a)(M,2),data=Y[0],X=Y[1],data&&!X){e.next=37;break}return e.abrupt("return",void 0);case 37:return J=data&&data.data&&data.data.owner,V=data&&data.data.records[0].data.contentMetadata,e.next=41,Object(m.f)(J).catch((function(){}));case 41:return Q=e.sent,Z=Q&&Q.data&&Q.data.displayName||J.replace(/((?:like1|cosmos1|0x).{4}).*(.{6})/,"$1...$2"),K=Q&&Q.data&&Q.data.avatar||"https://avatars.dicebear.com/api/identicon/".concat(encodeURIComponent(R),".svg"),e.abrupt("return",{id:v,displayName:Z,iscnOwner:J,iscnId:R,amount:h,avatar:K,iscnName:V&&(V.name||V.title)});case 45:case"end":return e.stop()}}),e)})))()},data:function(){return{isCreator:!1,isLoggedIn:!1,isSubscribed:!1,isTrialSubscriber:!1,civicLikerVersion:0,like_count:0,likeSent:0,totalLike:0,sessionId:j(),isSuperLiker:!1,canSuperLike:!1,hasSuperLiked:!1,isJustSuperLiked:!1,nextSuperLikeTime:-1,cooldownProgress:0,hasClickCooldown:!1,parentSuperLikeID:"",likerWallet:"",hasBookmarked:!1,isLoadingBookmark:!0,bookmarkID:void 0,hasFollowedCreator:!1,isLoadingFollowStatus:!1,supportingQuantity:0,hasCookieSupport:!1,hasStorageAPIAccess:!1,hasUpdateUserSignInStatus:!1,isRedirecting:!1,ctaHref:f.d}},computed:{urlReferrer:function(){var t=this.$route.query.referrer,e=void 0===t?"":t;return e&&(e=Object(S.b)(e)),e},buttonType:function(){var t=this.$route.query.type;return void 0===t?"":t},integration:function(){var t=this.$route.query.integration,e=void 0===t?"":t;return e},documentReferrer:function(){var t="";try{window.opener&&(t=(window.opener.document||{}).referrer)}catch(t){}return t||document.referrer||""},referrer:function(){return this.urlReferrer||""},targetQueryString:function(){var t=this.id,e=this.referrer,n=this.iscnId,r="".concat(e?"&referrer=".concat(encodeURIComponent(e)):"");return n?"?iscn_id=".concat(encodeURIComponent(n),"&utm_source=button"):"?=".concat(encodeURIComponent(t)).concat(r,"&utm_source=button")},signUpURL:function(){return"https://".concat(f.m,"/in/register").concat(this.targetQueryString,"&register=1&is_popup=1")},superLikeURL:function(){var t="".concat(this.amount?"/".concat(this.amount):"");return"https://".concat(f.m,"/").concat(this.id).concat(t).concat(this.targetQueryString)},likeCount:{get:function(){return this.like_count},set:function(t){this.like_count=Math.min(5,t)}},isMaxLike:function(){return this.likeCount>=5},timezoneString:function(){return((new Date).getTimezoneOffset()/-60).toString()},likeButtonLabel:function(){return this.likeCount>=5&&this.canSuperLike&&this.cooldownProgress<=0?this.$t("SuperLikeNow"):this.$tc("LikeCountLabel",this.totalLike,{count:this.totalLike})},ctaButtonLabel:function(){return this.$t("CTA.CivicLiker.DepubSpace")},ctaButtonPreset:function(){return this.isSupportingCreator?"special":"default"},isCreatorCivicLiker:function(){return this.isCivicLikerTrial||this.isSubscribedCivicLiker},isSupportingCreator:function(){return this.supportingQuantity>0},hintText:function(){return this.isLoggedIn?this.isCreator?this.cooldownProgress?this.hasClickCooldown?this.$t("HintLabel.SuperLikedPleaseTryAgainLater"):this.hasSuperLiked?this.$t("HintLabel.SuperLikedFollowersWillSee"):void 0:this.canSuperLike?this.$t("HintLabel.CanSuperLikeOwn"):this.$t("HintLabel.ToSuperLikeOwn"):this.likeCount<5?this.$t("HintLabel.PleaseLike"):this.cooldownProgress?this.hasClickCooldown?this.$t("HintLabel.SuperLikedPleaseTryAgainLater"):this.hasSuperLiked?this.$t("HintLabel.SuperLikedFollowersWillSee"):void 0:this.canSuperLike?this.$t("HintLabel.CanSuperLike"):this.$t("HintLabel.ToSuperLike"):this.$t("HintLabel.SignIn")},apiMetadata:function(){return{documentReferrer:this.documentReferrer,sessionID:this.sessionId,type:this.buttonType,integration:this.integration}},creatorPortfolioURL:function(){var t=this.iscnOwner||this.id,e="".concat(f.l,"/").concat(t,"?utm_source=button");return this.referrer&&(e="".concat(e,"&referrer=").concat(encodeURIComponent(this.referrer))),e},likeTarget:function(){return this.iscnId?{id:"iscn",referrer:"",iscnId:this.iscnId}:{id:this.id,referrer:this.referrer,iscnId:""}}},methods:{getIsCookieSupport:function(){var t=this;return Object(c.a)(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!1,e.prev=1,e.next=4,Object(y.a)();case 4:t.hasStorageAPIAccess=e.sent,r=Object(y.b)(),n=navigator.cookieEnabled&&t.hasStorageAPIAccess&&Object(d.b)()&&!r,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(1),console.error(e.t0),e.abrupt("return",!1);case 13:return Object(d.c)("likebutton_cookie",1),e.abrupt("return",n);case 15:case"end":return e.stop()}}),e,null,[[1,9]])})))()},getParentSuperLikeID:function(){return document.cookie&&Object(d.b)()?Object(d.a)("likebutton_superlike_id"):""},updateSuperLikeStatus:function(){var t=this;return Object(c.a)(regeneratorRuntime.mark((function e(){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.likeTarget,r=n.referrer,o=n.iscnId,e.next=3,Object(m.k)(t.timezoneString,{referrer:r,iscnId:o}).then((function(e){var data=e.data,n=data.isSuperLiker,r=data.canSuperLike,o=data.lastSuperLikeInfos,c=data.nextSuperLikeTs,l=data.cooldown,d=data.likeWallet;t.isSuperLiker=n,t.canSuperLike=r,t.likerWallet=d,t.ctaHref="".concat(f.d).concat(t.likerWallet),t.hasSuperLiked||(t.hasSuperLiked=!(!o||!o.length)),t.nextSuperLikeTime=c,t.cooldownProgress=l}));case 3:case"end":return e.stop()}}),e)})))()},updateUserSignInStatus:function(){var t=this;return Object(c.a)(regeneratorRuntime.mark((function e(){var n,r,o,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.likeTarget,r=n.id,o=n.referrer,l=n.iscnId,e.prev=1,e.next=4,Promise.all([Object(m.c)(r,O({referrer:o,iscnId:l,isCookieSupport:t.hasCookieSupport},t.apiMetadata)).then(function(){var e=Object(c.a)(regeneratorRuntime.mark((function e(n){var r,o,c,l,d,f,h,k;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.data,o=r.liker,c=r.isSubscribed,l=r.isTrialSubscriber,d=r.serverCookieSupported,f=r.civicLikerVersion,h=r.isSelfWork,t.isLoggedIn=!!o,t.isCreator=!!h,t.isSubscribed=c,t.isTrialSubscriber=l,t.civicLikerVersion=f,t.hasCookieSupport&&void 0!==d&&(t.hasCookieSupport=d),!t.isLoggedIn){e.next=13;break}return t.$sentry&&t.$sentry.configureScope((function(t){t.setUser({id:o})})),k=[t.updateSuperLikeStatus(),Object(v.b)(t,{user:o})],e.next=13,Promise.all(k);case 13:return e.abrupt("return",Promise.resolve);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(m.d)(r,{referrer:o,iscnId:l}).then((function(e){var n=e.data,r=n.count,o=n.liker;t.liker||(t.liker=o,t.isLoggedIn=!!o),t.likeCount=r,t.likeSent=r})),Object(m.e)(r,{referrer:o,iscnId:l}).then((function(e){var n=e.data.total;t.totalLike=n}))]);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.error(e.t0);case 9:return e.prev=9,t.hasUpdateUserSignInStatus=!0,e.finish(9);case 12:case"end":return e.stop()}}),e,null,[[1,6,9,12]])})))()},signUp:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isNewWindow:!0};if(t.isNewWindow){var e=window.open(this.signUpURL,"signup","width=540,height=600,menubar=no,location=no,resizable=yes,scrollbars=yes,status=yes");this.$root.$emit("openPopupNoticeOverlay",e)}else window.location="".concat(this.signUpURL,"&redirect=").concat(encodeURIComponent(window.location.href));Object(v.a)(this,"LikeButtonFlow","triggerSignUpIn","triggerSignUpIn",1)},like:function(){this.likeCount+=1,I(this)},newSuperLike:function(){var t=this;return Object(c.a)(regeneratorRuntime.mark((function e(){var n,r,o,c,address;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.likeTarget,r=n.referrer,o=n.iscnId,c=t.cooldownProgress,t.hasSuperLiked=!0,t.isJustSuperLiked=!0,t.cooldownProgress=1,e.next=7,Object(m.o)(t.id,O({referrer:r,iscnId:o,tz:t.timezoneString},t.apiMetadata)).catch((function(){t.hasSuperLiked=!1,t.cooldownProgress=c}));case 7:address=e.sent,t.likerWallet=address&&address.data.likerWallet,t.ctaHref="".concat(f.d).concat(t.likerWallet);case 10:case"end":return e.stop()}}),e)})))()},openLikeStats:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isNewWindow:!0},e=this.id,n=this.referrer,r=this.iscnId;t.isNewWindow?window.open("/in/embed/".concat(e,"/list").concat(this.targetQueryString),_,"menubar=no,location=no,width=576,height=768"):this.$router.push({name:"in-embed-id-list",params:{id:e},query:{referrer:n,iscn_id:r,show_back:"1"}})},onClickCTAButton:function(){var t=this.isSupportingCreator?"".concat(f.l,"/").concat(this.id,"?civic_welcome=1"):"".concat(f.l,"/").concat(this.id,"/civic").concat(this.targetQueryString);window.open(t,"_blank","menubar=no,location=no,width=527,height=700")},onClickCooldown:function(){this.hasClickCooldown=!0},goToPortfolio:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.type,n=void 0===e?"popup":e,r=t.target,o=void 0===r?"_blank":r,c=t.feature,l=void 0===c?"":c,d=this.creatorPortfolioURL;"popup"===n?window.open(d,o,l):(this.isRedirecting=!0,window.location.href=d)}}}},936:function(t,e,n){"use strict";n.r(e);var r=n(11),o=(n(55),n(62),n(58),n(56),n(153)),c=n(347),l=n(34),d=n(26),f=(n(60),n(52),n(46),n(51),n(74),n(75),n(313)),h=n(402);function k(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function v(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?k(Object(source),!0).forEach((function(e){Object(l.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):k(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var m={mixins:[n(492).a],data:function(){return{isUserFetched:!1,isShowLikeButton:!0}},computed:{popupURL:function(){var t;return t=this.iscnId?"/in/like/iscn/?iscn_id=".concat(this.iscnId):"/in/like/".concat(this.id,"/?referrer=").concat(encodeURIComponent(this.referrer)),t+="&popup=1",this.buttonType&&(t+="&type=".concat(encodeURIComponent(this.buttonType))),t},isPreview:function(){return"1"===this.$route.query.preview}},head:function(){var link=[];return this.isUserFetched&&!this.isLoggedIn&&(this.hasCookieSupport?window.doNotTrack||navigator.doNotTrack||link.push({rel:"prefetch",href:this.signUpURL}):link.push({rel:"prefetch",href:this.popupURL})),{link:link}},mounted:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{window.top.postMessage({action:"MOUNTED"},window.location.href)}catch(t){console.error(t)}if(window.addEventListener("message",t.handleWindowMessage),!t.isPreview){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,t.getIsCookieSupport();case 6:return t.hasCookieSupport=e.sent,t.parentSuperLikeID=t.getParentSuperLikeID(),e.next=10,t.updateUserSignInStatus();case 10:t.onCheckCookieSupport&&t.onCheckCookieSupport(t.hasCookieSupport),t.isUserFetched=!0;case 12:case"end":return e.stop()}}),e)})))()},beforeDestroy:function(){window.removeEventListener("message",this.handleWindowMessage)},watch:{referrer:function(){this.updateUserSignInStatus()}},methods:{openPopup:function(t){var e="".concat(this.popupURL,"&action=").concat(t);if(Object(o.f)()&&Object(o.g)())try{return void(window.top.location.href=e)}catch(t){console.error(t)}var n=window.open(e,"like","menubar=no,location=no,width=576,height=768");this.$root.$emit("openPopupNoticeOverlay",n)},handleWindowMessage:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var data,r,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(data=t.data,"object"===Object(d.a)(data)){n.next=3;break}return n.abrupt("return");case 3:if(t.source!==window.parent&&t.source!==window.top){n.next=14;break}n.t0=data.action,n.next="SET_REFERRER"===n.t0?7:"DISABLE_BUTTON"===n.t0?12:14;break;case 7:if(void 0!==(r=data.content.referrer)){n.next=10;break}return n.abrupt("return");case 10:return e.$router.replace({name:e.$route.name,params:e.$route.params,hash:e.$route.hash,query:v(v({},e.$route.query),{},{referrer:r})}),n.abrupt("break",14);case 12:return e.isShowLikeButton=!1,n.abrupt("break",14);case 14:if(t.origin!=="https://".concat(f.m)){n.next=36;break}n.t1=data.action,n.next="LOGGED_IN"===n.t1?18:"PREVIEW"===n.t1?31:36;break;case 18:return n.next=20,e.updateUserSignInStatus();case 20:n.t2=e.postSignInAction,n.next="like"===n.t2?23:"save"===n.t2?25:"follow"===n.t2?27:29;break;case 23:return e.$nextTick((function(){e.$refs.likeButton&&e.$refs.likeButton.onClick()})),n.abrupt("break",30);case 25:return e.hasBookmarked||e.onClickSaveButton(),n.abrupt("break",30);case 27:return e.hasFollowedCreator||e.onClickFollowButton(),n.abrupt("break",30);case 29:return n.abrupt("break",30);case 30:return n.abrupt("break",36);case 31:if(e.isPreview){n.next=33;break}return n.abrupt("return");case 33:return(o=data.content.user)&&(o.user&&(e.id=o.user),o.displayName&&(e.displayName=o.displayName),o.avatar&&(e.avatar=o.avatar),e.avatarHalo=Object(h.a)(o)),n.abrupt("break",36);case 36:case"end":return n.stop()}}),n)})))()}}},y=n(321),w=n(386),S=n(372),L=n(413),C=n(345),O={name:"embed-id-button",layout:"embedv2",components:{Identity:y.default,LikeButton:S.default,SaveButton:L.default,LikeCoinButtonWidgetV2:w.default},mixins:[m],data:function(){return{isUserFetched:!1,isShowAltMode:!1}},computed:{widgetLayout:function(){if(this.isShowAltMode){var t=this.$route.query.mode;if(w.LAYOUTS.includes(t))return t}return w.LAYOUT_DEFAULT},hasAltMode:function(){var t=this.$route.query.mode;return w.LAYOUTS.includes(t)&&t!==w.LAYOUT_DEFAULT},upgradeUrl:function(){return this.referrer&&!this.referrer.includes("vocus.cc")?"":this.referrer||this.iscnId?Object(c.q)({referrer:this.referrer,iscnId:this.iscnId,user:this.id}):""}},mounted:function(){this.hasAltMode&&(this.isShowAltMode=!0,window.addEventListener("message",this.onReceiveMessage,!1))},beforeDestory:function(){window.removeEventListener("message",this.onReceiveMessage,!1)},methods:{doLogin:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.isPreview){n.next=2;break}return n.abrupt("return");case 2:if(e.postSignInAction=t,!(!e.hasCookieSupport||Object(o.f)()&&Object(o.g)())){n.next=18;break}if(e.openPopup(t),r=t.replace(/^./,(function(s){return s.toUpperCase()})),Object(C.a)(e,"LikeButtonFlow","popup".concat(r),"popup".concat(r,"(embed)"),1),e.hasStorageAPIAccess){n.next=16;break}return n.next=10,Object(o.h)();case 10:if(!n.sent){n.next=16;break}return n.next=13,e.getIsCookieSupport();case 13:return e.hasCookieSupport=n.sent,n.next=16,e.updateUserSignInStatus();case 16:n.next=20;break;case 18:e.signUp(),Object(C.a)(e,"LikeButtonFlow","popupSignUp","popupSignUp(embed)",1);case 20:case"end":return n.stop()}}),n)})))()},doLike:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.isMaxLike||t.isCreator){e.next=5;break}t.like(),Object(C.a)(t,"LikeButtonFlow","clickLike","clickLike(embed)",1),e.next=13;break;case 5:if(!t.canSuperLike){e.next=12;break}return e.next=8,t.newSuperLike();case 8:return e.next=10,t.updateSuperLikeStatus();case 10:e.next=13;break;case 12:t.showCivicLikerCTA();case 13:case"end":return e.stop()}}),e)})))()},getShouldShowCivicLikerCTA:function(){if(void 0===this.ctaClickCount)this.ctaClickCount=1;else if(this.ctaClickCount=(this.ctaClickCount+1)%5,0!==this.ctaClickCount)return!1;return!0},showCivicLikerCTA:function(){this.getShouldShowCivicLikerCTA()&&(this.goToPortfolio({type:"popup",target:"civic-liker-cta",feature:"width=540,height=640,menubar=no,location=no,resizable=yes,scrollbars=yes,status=yes"}),Object(C.a)(this,"LikeButtonFlow","clickCivicLikerCTA","clickCivicLikerCTA(embed)",1))},onClickLike:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(C.a)(t,"LikeButtonFlow","clickLikeButton","clickLikeButton(embed)",1),!t.isLoggedIn){e.next=5;break}t.doLike(),e.next=7;break;case 5:return e.next=7,t.doLogin("like");case 7:case"end":return e.stop()}}),e)})))()},onClickLikeStats:function(){this.openLikeStats(),Object(C.a)(this,"LikeButtonFlow","clickLikeStats","clickLikeStats(embed)",1)},onClickAvatar:function(){Object(C.a)(this,"LikeButtonFlow","clickAvatar","clickAvatar(embed)",1),this.goToPortfolio()},handleMessageAction:function(t,e){switch(e){case"showAltMode":this.isShowAltMode=!0;break;case"hideAltMode":this.isShowAltMode=!1}t&&t.source&&t.source.postMessage(JSON.stringify({ack:e}),t.origin)},onReceiveMessage:function(t){var e=this,n=[];try{n=JSON.parse(t.data).actions}catch(t){return void console.error(t)}Array.isArray(n)?n.forEach((function(n){e.handleMessageAction(t,n)})):this.handleMessageAction(t,n)}}},_=n(22),component=Object(_.a)(O,(function(){var t=this,e=t._self._c;return e("div",[e("LikeCoinButtonWidgetV2",{attrs:{layout:t.widgetLayout,"like-button-label":t.likeButtonLabel,"cta-button-label":t.ctaButtonLabel,"cta-button-preset":t.ctaButtonPreset,"hint-label":t.hintText,"upgrade-href":t.upgradeUrl,"cta-href":t.likerWallet&&t.ctaHref,"is-show-like-button":t.isShowLikeButton,"should-show-cta":t.hasSuperLiked},on:{"click-like-button-label":t.onClickLikeStats},scopedSlots:t._u([{key:"like-button",fn:function(){return[e("LikeButton",{ref:"likeButton",attrs:{id:t.id,count:t.likeCount,cooldown:t.cooldownProgress,"cooldown-end-time":t.nextSuperLikeTime,"has-super-liked":t.hasSuperLiked,"is-just-super-liked":t.isJustSuperLiked,"is-super-like-enabled":t.isSuperLiker,"is-creator":t.isCreator},on:{click:t.onClickLike,"click-disabled":t.onClickCooldown,"cooldown-end":t.updateSuperLikeStatus}})]},proxy:!0},{key:"identity",fn:function(n){return[e("Identity",t._b({attrs:{avatarURL:t.avatar,"display-name":t.displayName,"is-avatar-button-outlined":t.isCreatorCivicLiker},on:{"click-avatar":t.onClickAvatar,"click-display-name":t.onClickAvatar}},"Identity",n,!1))]}}])})],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{LikeButton:n(384).default,Identity:n(321).default,LikeCoinButtonWidgetV2:n(386).default})}}]);
//# sourceMappingURL=6cf6a6a.js.map